<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Global</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Global</h1>

    




<section>

<header>
    
        <h2></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="D"><span class="type-signature">(constant) </span>D<span class="type-signature"></span></h4>




<div class="description">
    A simple cache for data-dictionary queries.
The cache is used only for methods whose arg is 'resource'
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data-dictionary_dd-utils.js.html">data-dictionary/dd-utils.js</a>, <a href="data-dictionary_dd-utils.js.html#line23">line 23</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="D"><span class="type-signature">(constant) </span>D<span class="type-signature"></span></h4>




<div class="description">
    A simple cache for data-dictionary queries.
The cache is used only for methods whose arg is 'resource'
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data-dictionary_utils_entityUtils.js.html">data-dictionary/utils/entityUtils.js</a>, <a href="data-dictionary_utils_entityUtils.js.html#line8">line 8</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="_zops"><span class="type-signature">(constant) </span>_zops<span class="type-signature"></span></h4>




<div class="description">
    mapping of ZQL ops to actual SQL ops
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_zql_queryMaker_utils.js.html">lib/zql/queryMaker/utils.js</a>, <a href="lib_zql_queryMaker_utils.js.html#line75">line 75</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="env"><span class="type-signature">(constant) </span>env<span class="type-signature"></span></h4>




<div class="description">
    default the NODE_ENV to 'development'.
To start in 'production' mode using `pm2`, start like so
$ NODE_ENV=production pm2 start server.js --name=z3
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="server.js.html">server.js</a>, <a href="server.js.html#line6">line 6</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="externalParams"><span class="type-signature">(constant) </span>externalParams<span class="type-signature"></span></h4>




<div class="description">
    then we add params that are in other tables but can be queried 
via this REST endpoint
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data-dictionary_resources_images_params.js.html">data-dictionary/resources/images/params.js</a>, <a href="data-dictionary_resources_images_params.js.html#line97">line 97</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="externalParams"><span class="type-signature">(constant) </span>externalParams<span class="type-signature"></span></h4>




<div class="description">
    then we add params that are in other tables but can be queried 
via this REST endpoint
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data-dictionary_resources_materialCitations_params.js.html">data-dictionary/resources/materialCitations/params.js</a>, <a href="data-dictionary_resources_materialCitations_params.js.html#line498">line 498</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="getCountSql"><span class="type-signature">(constant) </span>getCountSql<span class="type-signature"></span></h4>




<div class="description">
    A SQL SELECT statement is made up of following clauses

SELECT   [<columns>]                    <- getColumns()
FROM     [<tables>]                     <- getTables()
WHERE    [<constraints>]                <- getConstraints()
GROUP BY [<groups]                      <- getGroupby()
ORDER BY [<col> <dir>, <col> <dir> â€¦]   <- getSortOrder()
LIMIT    <int: limit>                   <- getLimitAndOffset()
OFFSET   <int: offset>                  <- getLimitAndOffset()

The first two clauses (SELECT and FROM) are mandatory.
The remaining clauses are optional
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_zql_queryMaker_index.js.html">lib/zql/queryMaker/index.js</a>, <a href="lib_zql_queryMaker_index.js.html#line22">line 22</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="nonSqlQueryable"><span class="type-signature">(constant) </span>nonSqlQueryable<span class="type-signature"></span></h4>




<div class="description">
    the following params can be a part of the queryString but are not used in 
making the SQL query so they need to be excluded when creating the SQL
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_zql_queryMaker_utils.js.html">lib/zql/queryMaker/utils.js</a>, <a href="lib_zql_queryMaker_utils.js.html#line41">line 41</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="params"><span class="type-signature">(constant) </span>params<span class="type-signature"></span></h4>




<div class="description">
    first we define all the params corresponding to the columns in the 
materialsCitation table
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data-dictionary_resources_materialCitations_params.js.html">data-dictionary/resources/materialCitations/params.js</a>, <a href="data-dictionary_resources_materialCitations_params.js.html#line11">line 11</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="params"><span class="type-signature">(constant) </span>params<span class="type-signature"></span></h4>




<div class="description">
    NOTE: All params are REST params unless they don't have a 'schema' 
key. And if they are table column, they will also have a 'sql' key.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data-dictionary_resources_treatments_params.js.html">data-dictionary/resources/treatments/params.js</a>, <a href="data-dictionary_resources_treatments_params.js.html#line26">line 26</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="plugin"><span class="type-signature">(constant) </span>plugin<span class="type-signature"></span></h4>




<div class="description">
    This plugin enables the use of CORS in a Fastify application.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="plugins_bak_better-sqlite3.js.html">plugins/bak/better-sqlite3.js</a>, <a href="plugins_bak_better-sqlite3.js.html#line8">line 8</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://www.npmjs.com/package/@fastify/cors">https://www.npmjs.com/package/@fastify/cors</a></li>
        </ul>
    </dd>
    

    
</dl>






        
            
<h4 class="name" id="plugin"><span class="type-signature">(constant) </span>plugin<span class="type-signature"></span></h4>




<div class="description">
    This plugin enables the use of CORS in a Fastify application.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="plugins_bak_cors.js.html">plugins/bak/cors.js</a>, <a href="plugins_bak_cors.js.html#line8">line 8</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://www.npmjs.com/package/@fastify/cors">https://www.npmjs.com/package/@fastify/cors</a></li>
        </ul>
    </dd>
    

    
</dl>






        
            
<h4 class="name" id="plugin"><span class="type-signature">(constant) </span>plugin<span class="type-signature"></span></h4>




<div class="description">
    With this plugin, Fastify will have a route 
configured for /favicon.ico requests.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="plugins_bak_favicon.js.html">plugins/bak/favicon.js</a>, <a href="plugins_bak_favicon.js.html#line10">line 10</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://github.com/smartiniOnGitHub/fastify-favicon">https://github.com/smartiniOnGitHub/fastify-favicon</a></li>
        </ul>
    </dd>
    

    
</dl>






        
            
<h4 class="name" id="plugin"><span class="type-signature">(constant) </span>plugin<span class="type-signature"></span></h4>




<div class="description">
    The fastify.routes Map has a key for each path any route has been 
registered, which points to an array of routes registered on that path. 
There can be more than one route for a given path if there are multiple 
routes added with different methods or different constraints.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="plugins_bak_routes.js.html">plugins/bak/routes.js</a>, <a href="plugins_bak_routes.js.html#line12">line 12</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://github.com/fastify/fastify-routes">https://github.com/fastify/fastify-routes</a></li>
        </ul>
    </dd>
    

    
</dl>






        
            
<h4 class="name" id="plugin"><span class="type-signature">(constant) </span>plugin<span class="type-signature"></span></h4>




<div class="description">
    This plugins adds some utilities to handle http errors
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="plugins_bak_sensible.js.html">plugins/bak/sensible.js</a>, <a href="plugins_bak_sensible.js.html#line9">line 9</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://github.com/fastify/fastify-sensible">https://github.com/fastify/fastify-sensible</a></li>
        </ul>
    </dd>
    

    
</dl>






        
            
<h4 class="name" id="re"><span class="type-signature">(constant) </span>re<span class="type-signature"></span></h4>




<div class="description">
    various regexp patterns to be used in other constructions
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_utils.js.html">lib/utils.js</a>, <a href="lib_utils.js.html#line56">line 56</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="staticOpts"><span class="type-signature">(constant) </span>staticOpts<span class="type-signature"></span></h4>




<div class="description">
    Plugin for serving static files as fast as possible
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="plugins_static.js.html">plugins/static.js</a>, <a href="plugins_static.js.html#line12">line 12</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://github.com/fastify/fastify-static">https://github.com/fastify/fastify-static</a></li>
        </ul>
    </dd>
    

    
</dl>






        
            
<h4 class="name" id="viewOpts"><span class="type-signature">(constant) </span>viewOpts<span class="type-signature"></span></h4>




<div class="description">
    Plugin for serving static files as fast as possible
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="plugins_view.js.html">plugins/view.js</a>, <a href="plugins_view.js.html#line10">line 10</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://github.com/fastify/fastify-static">https://github.com/fastify/fastify-static</a></li>
        </ul>
    </dd>
    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="_dateStr2Ms"><span class="type-signature"></span>_dateStr2Ms<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    convert a date formatted as string or to ms since epoch
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_zql_z-utils.js.html">lib/zql/z-utils.js</a>, <a href="lib_zql_z-utils.js.html#line103">line 103</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_getConstraint"><span class="type-signature"></span>_getConstraint<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    The queryString is made up of key-value pairs separated by '&'
  Within each pair, the key and the value are separated by '='

  Two kinds of patterns are possible
      <key> = <value>
      <key> = <zql>(<value>)

  1. Convert queryString into an object of k,v pairs
  2. evaluate each k,v pair
      - convert key to 'left' by using getWhere()
      - evaluate value to see if it contains a ZQL operator (zop)
          - yes:
              - convert zop to operator
              - convert value to 'right'
          - no:
              - find default operator
              - convert value to 'right'
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_zql_z-utils.js.html">lib/zql/z-utils.js</a>, <a href="lib_zql_z-utils.js.html#line149">line 149</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_isBoolean"><span class="type-signature"></span>_isBoolean<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    in case of boolean, we add the val directly to the
constraint instead of adding a placeholder and 
including it in runparams
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_zql_z-utils.js.html">lib/zql/z-utils.js</a>, <a href="lib_zql_z-utils.js.html#line272">line 272</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_isDate"><span class="type-signature"></span>_isDate<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    The following are the data fields in treatments

| field           | sqltype | format        | units |
|-----------------|---------|---------------|-------|
| publicationDate | TEXT    | yyyy-mm-dd    |       |
| updateTime      | INTEGER | sssssssssssss | ms    |
| checkinTime     | INTEGER | sssssssssssss | ms    |
| journalYear     | TEXT    | yyyy          |       |
| authorityYear   | TEXT    | yyyy          |       |
| checkinYear     | INTEGER | yyyy          |       |
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_zql_z-utils.js.html">lib/zql/z-utils.js</a>, <a href="lib_zql_z-utils.js.html#line292">line 292</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_sqlRunner"><span class="type-signature"></span>_sqlRunner<span class="signature">(sql, runparams, fastify)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Runs the sql query.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>sql</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">SQL statement.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>runparams</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">an object of params to bind to the SQL.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fastify</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">an instance of fastify.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_routeUtils.js.html">lib/routeUtils.js</a>, <a href="lib_routeUtils.js.html#line218">line 218</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="coerceToArray"><span class="type-signature"></span>coerceToArray<span class="signature">(request, param)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Coerce repeating keys into an array.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>request</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">the request object.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>param</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">the param object.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_routeUtils.js.html">lib/routeUtils.js</a>, <a href="lib_routeUtils.js.html#line703">line 703</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="createRootRoute"><span class="type-signature"></span>createRootRoute<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    create the root route
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="routes_api_index.js.html">routes/api/index.js</a>, <a href="routes_api_index.js.html#line10">line 10</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="createTable"><span class="type-signature"></span>createTable<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data-dictionary_dd-utils.js.html">data-dictionary/dd-utils.js</a>, <a href="data-dictionary_dd-utils.js.html#line25">line 25</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    create table statement
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="createTable"><span class="type-signature"></span>createTable<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data-dictionary_utils_tableUtils.js.html">data-dictionary/utils/tableUtils.js</a>, <a href="data-dictionary_utils_tableUtils.js.html#line294">line 294</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    create table statement
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getArchiveUpdates"><span class="type-signature"></span>getArchiveUpdates<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    prints out updates for full, monthly, weekly and daily archives
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bin_truebug_lib_database_index.js.html">bin/truebug/lib/database/index.js</a>, <a href="bin_truebug_lib_database_index.js.html#line446">line 446</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getCache"><span class="type-signature"></span>getCache<span class="signature">(dir, namespace, duration, sync)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Return a cache object.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dir</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the cache directory.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>namespace</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the cache namespace.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>duration</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">the cache duration.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sync</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">the cache type, sync or async.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_routeUtils.js.html">lib/routeUtils.js</a>, <a href="lib_routeUtils.js.html#line719">line 719</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getCacheKey"><span class="type-signature"></span>getCacheKey<span class="signature">(request)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Takes a request and returns a unique cacheKey.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>request</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">the request object.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_routeUtils.js.html">lib/routeUtils.js</a>, <a href="lib_routeUtils.js.html#line165">line 165</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getCounts"><span class="type-signature"></span>getCounts<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    queries each table in the db and prints out the 
count of rows
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bin_truebug_lib_database_index.js.html">bin/truebug/lib/database/index.js</a>, <a href="bin_truebug_lib_database_index.js.html#line384">line 384</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getDataFromZenodeo"><span class="type-signature">(async) </span>getDataFromZenodeo<span class="signature">(request, resource, fastify)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Retrieve data from Zenodeo.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>request</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">the request object.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>resource</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">name of the resource.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fastify</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">an instance of fastify.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_routeUtils.js.html">lib/routeUtils.js</a>, <a href="lib_routeUtils.js.html#line240">line 240</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getDefaultCols"><span class="type-signature"></span>getDefaultCols<span class="signature">()</span><span class="type-signature"> &rarr; {array}</span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data-dictionary_utils_resourceUtils.js.html">data-dictionary/utils/resourceUtils.js</a>, <a href="data-dictionary_utils_resourceUtils.js.html#line97">line 97</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    columns that are returned if no columns are specified in a REST query via 'cols'
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">array</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getDefaultParams"><span class="type-signature"></span>getDefaultParams<span class="signature">()</span><span class="type-signature"> &rarr; {array}</span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data-dictionary_utils_resourceUtils.js.html">data-dictionary/utils/resourceUtils.js</a>, <a href="data-dictionary_utils_resourceUtils.js.html#line230">line 230</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    all paramaters for a given resource that 
are returned by default if no params are specified in a 
REST query via 'cols'
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">array</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getFacetParams"><span class="type-signature"></span>getFacetParams<span class="signature">()</span><span class="type-signature"> &rarr; {array}</span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data-dictionary_utils_resourceUtils.js.html">data-dictionary/utils/resourceUtils.js</a>, <a href="data-dictionary_utils_resourceUtils.js.html#line255">line 255</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    all params that can be used in facet queries
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">array</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getParams"><span class="type-signature"></span>getParams<span class="signature">()</span><span class="type-signature"> &rarr; {array}</span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data-dictionary_dd-utils.js.html">data-dictionary/dd-utils.js</a>, <a href="data-dictionary_dd-utils.js.html#line109">line 109</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    all paramaters for a given resource
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">array</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getParams"><span class="type-signature"></span>getParams<span class="signature">()</span><span class="type-signature"> &rarr; {array}</span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data-dictionary_utils_resourceUtils.js.html">data-dictionary/utils/resourceUtils.js</a>, <a href="data-dictionary_utils_resourceUtils.js.html#line128">line 128</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    all paramaters for a given resource
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">array</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getPk"><span class="type-signature"></span>getPk<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data-dictionary_utils_resourceUtils.js.html">data-dictionary/utils/resourceUtils.js</a>, <a href="data-dictionary_utils_resourceUtils.js.html#line70">line 70</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    name of Primary Key of the resource table
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getResourceId"><span class="type-signature"></span>getResourceId<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data-dictionary_dd-utils.js.html">data-dictionary/dd-utils.js</a>, <a href="data-dictionary_dd-utils.js.html#line147">line 147</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    name of resourceId of a resource
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getResourceId"><span class="type-signature"></span>getResourceId<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data-dictionary_utils_resourceUtils.js.html">data-dictionary/utils/resourceUtils.js</a>, <a href="data-dictionary_utils_resourceUtils.js.html#line48">line 48</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    name of resourceId of a resource
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getResources"><span class="type-signature"></span>getResources<span class="signature">()</span><span class="type-signature"> &rarr; {array}</span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data-dictionary_dd-utils.js.html">data-dictionary/dd-utils.js</a>, <a href="data-dictionary_dd-utils.js.html#line77">line 77</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    resource names
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">array</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getResourcesFromSource"><span class="type-signature"></span>getResourcesFromSource<span class="signature">()</span><span class="type-signature"> &rarr; {array}</span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data-dictionary_dd-utils.js.html">data-dictionary/dd-utils.js</a>, <a href="data-dictionary_dd-utils.js.html#line99">line 99</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    resources from a given source ('zenodeo' or 'zenodo')
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">array</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getSearch"><span class="type-signature"></span>getSearch<span class="signature">(request)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Extract search object from the request.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>request</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">the request object.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_routeUtils.js.html">lib/routeUtils.js</a>, <a href="lib_routeUtils.js.html#line597">line 597</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getSourceOfResource"><span class="type-signature"></span>getSourceOfResource<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data-dictionary_dd-utils.js.html">data-dictionary/dd-utils.js</a>, <a href="data-dictionary_dd-utils.js.html#line83">line 83</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    source ('zenodeo' or 'zenodo') of a given resource
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="groupParamsByKey"><span class="type-signature"></span>groupParamsByKey<span class="signature">(params)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Group the parameters by key.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">the params object.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_routeUtils.js.html">lib/routeUtils.js</a>, <a href="lib_routeUtils.js.html#line615">line 615</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="init"><span class="type-signature">(async) </span>init<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    `truebug` starts here
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bin_truebug_index.js.html">bin/truebug/index.js</a>, <a href="bin_truebug_index.js.html#line280">line 280</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="makeLinks"><span class="type-signature"></span>makeLinks<span class="signature">(request)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Construct _prev, _next and _self links.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>request</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">the request object.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_routeUtils.js.html">lib/routeUtils.js</a>, <a href="lib_routeUtils.js.html#line661">line 661</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="pathToXml"><span class="type-signature"></span>pathToXml<span class="signature">(xml, param)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Returns a three-level directory path to store xml.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>xml</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the input xml.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>param</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">the param object.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_utils.js.html">lib/utils.js</a>, <a href="lib_utils.js.html#line18">line 18</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="preZql"><span class="type-signature"></span>preZql<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    preZql() is used only when testing zql from the command line or via a 
testing framework such as jest or tap. preZql() converts the querystring 
to URLSearchParams, which is what zql() expects.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_zql_index.js.html">lib/zql/index.js</a>, <a href="lib_zql_index.js.html#line121">line 121</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="queryDataStore"><span class="type-signature">(async) </span>queryDataStore<span class="signature">(request, resource, fastify)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Queries the datastore.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>request</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">request object.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>resource</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">name of the resource.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fastify</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">an instance of fastify.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_routeUtils.js.html">lib/routeUtils.js</a>, <a href="lib_routeUtils.js.html#line196">line 196</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="queryViaCache"><span class="type-signature">(async) </span>queryViaCache<span class="signature">(request, resourceName, fastify, cache, cacheKey)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Runs the query via the cache, returning cached value if found, otherwise
querying the datasource, caching and then returning the results
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>request</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last">request object.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>resourceName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last">name of the resource.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fastify</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last">an instance of fastify.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cache</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last">an instance of the cache; defaults to 'null'.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cacheKey</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last">a key in the cache.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_routeUtils.js.html">lib/routeUtils.js</a>, <a href="lib_routeUtils.js.html#line65">line 65</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="res2data"><span class="type-signature"></span>res2data<span class="signature">(result)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Convert results to data.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>result</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">the result object.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_routeUtils.js.html">lib/routeUtils.js</a>, <a href="lib_routeUtils.js.html#line370">line 370</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="routeFactory"><span class="type-signature"></span>routeFactory<span class="signature">(resourceName)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Takes a resourceName and returns a route.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>resourceName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">name of the resource.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_routeUtils.js.html">lib/routeUtils.js</a>, <a href="lib_routeUtils.js.html#line17">line 17</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="routeHandler"><span class="type-signature"></span>routeHandler<span class="signature">(resourceName, fastify)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    The handler runs when the route is called.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>resourceName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">name of the resource.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fastify</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">an instance of fastify.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_routeUtils.js.html">lib/routeUtils.js</a>, <a href="lib_routeUtils.js.html#line105">line 105</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="routeOptions"><span class="type-signature"></span>routeOptions<span class="signature">(resource, fastify)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    This is the guts of a route where the method, the url, the schema and the
handler are described
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>resource</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">name of the resource.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fastify</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">an instance of fastify</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_routeUtils.js.html">lib/routeUtils.js</a>, <a href="lib_routeUtils.js.html#line32">line 32</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="start"><span class="type-signature">(async) </span>start<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Function to initialize and start the server!
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="server.js.html">server.js</a>, <a href="server.js.html#line17">line 17</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="str2ms"><span class="type-signature"></span>str2ms<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    convert a date formatted as string to ms since epoch in SQLite3 syntax
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_zql_queryMaker_where_lib_yeardate.js.html">lib/zql/queryMaker/where/lib/yeardate.js</a>, <a href="lib_zql_queryMaker_where_lib_yeardate.js.html#line37">line 37</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="tableFromResource"><span class="type-signature"></span>tableFromResource<span class="signature">()</span><span class="type-signature"> &rarr; {array}</span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data-dictionary_dd-utils.js.html">data-dictionary/dd-utils.js</a>, <a href="data-dictionary_dd-utils.js.html#line54">line 54</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    fully qualified table name
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">array</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="tableFromResource"><span class="type-signature"></span>tableFromResource<span class="signature">()</span><span class="type-signature"> &rarr; {array}</span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data-dictionary_utils_resourceUtils.js.html">data-dictionary/utils/resourceUtils.js</a>, <a href="data-dictionary_utils_resourceUtils.js.html#line278">line 278</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    fully qualified table name
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">array</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="timerFormat"><span class="type-signature"></span>timerFormat<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    't' is an array of seconds and nanoseconds.
convert 't' into s and ms
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_utils.js.html">lib/utils.js</a>, <a href="lib_utils.js.html#line51">line 51</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="validate"><span class="type-signature"></span>validate<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    check if the submitted params conform to the schema
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_zql_queryMaker_utils.js.html">lib/zql/queryMaker/utils.js</a>, <a href="lib_zql_queryMaker_utils.js.html#line12">line 12</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#D">D</a></li><li><a href="global.html#_dateStr2Ms">_dateStr2Ms</a></li><li><a href="global.html#_getConstraint">_getConstraint</a></li><li><a href="global.html#_isBoolean">_isBoolean</a></li><li><a href="global.html#_isDate">_isDate</a></li><li><a href="global.html#_sqlRunner">_sqlRunner</a></li><li><a href="global.html#_zops">_zops</a></li><li><a href="global.html#coerceToArray">coerceToArray</a></li><li><a href="global.html#createRootRoute">createRootRoute</a></li><li><a href="global.html#createTable">createTable</a></li><li><a href="global.html#env">env</a></li><li><a href="global.html#externalParams">externalParams</a></li><li><a href="global.html#getArchiveUpdates">getArchiveUpdates</a></li><li><a href="global.html#getCache">getCache</a></li><li><a href="global.html#getCacheKey">getCacheKey</a></li><li><a href="global.html#getCountSql">getCountSql</a></li><li><a href="global.html#getCounts">getCounts</a></li><li><a href="global.html#getDataFromZenodeo">getDataFromZenodeo</a></li><li><a href="global.html#getDefaultCols">getDefaultCols</a></li><li><a href="global.html#getDefaultParams">getDefaultParams</a></li><li><a href="global.html#getFacetParams">getFacetParams</a></li><li><a href="global.html#getParams">getParams</a></li><li><a href="global.html#getPk">getPk</a></li><li><a href="global.html#getResourceId">getResourceId</a></li><li><a href="global.html#getResources">getResources</a></li><li><a href="global.html#getResourcesFromSource">getResourcesFromSource</a></li><li><a href="global.html#getSearch">getSearch</a></li><li><a href="global.html#getSourceOfResource">getSourceOfResource</a></li><li><a href="global.html#groupParamsByKey">groupParamsByKey</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#makeLinks">makeLinks</a></li><li><a href="global.html#nonSqlQueryable">nonSqlQueryable</a></li><li><a href="global.html#params">params</a></li><li><a href="global.html#pathToXml">pathToXml</a></li><li><a href="global.html#plugin">plugin</a></li><li><a href="global.html#preZql">preZql</a></li><li><a href="global.html#queryDataStore">queryDataStore</a></li><li><a href="global.html#queryViaCache">queryViaCache</a></li><li><a href="global.html#re">re</a></li><li><a href="global.html#res2data">res2data</a></li><li><a href="global.html#routeFactory">routeFactory</a></li><li><a href="global.html#routeHandler">routeHandler</a></li><li><a href="global.html#routeOptions">routeOptions</a></li><li><a href="global.html#start">start</a></li><li><a href="global.html#staticOpts">staticOpts</a></li><li><a href="global.html#str2ms">str2ms</a></li><li><a href="global.html#tableFromResource">tableFromResource</a></li><li><a href="global.html#timerFormat">timerFormat</a></li><li><a href="global.html#validate">validate</a></li><li><a href="global.html#viewOpts">viewOpts</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Wed Dec 13 2023 19:41:35 GMT+0100 (GMT+01:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>